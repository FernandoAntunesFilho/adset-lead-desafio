<form [formGroup]="filtroForm" (ngSubmit)="buscarCarros()">
  <button [routerLink]="['/carros/cadastrar']">Cadastrar novo carro</button>

  <div>
    <a>Total de Carros: {{ totalCarros }}</a>
    <a>Total de Carros Com Fotos: {{ totalCarrosComFotos }}</a>
    <a>Total de Carros Sem Fotos: {{ totalCarrosSemFotos }}</a>
  </div>

  <div>
    <label>Marca: <input formControlName="marca" /></label>
    <label>Modelo: <input formControlName="modelo" /></label>
    <label>Placa: <input formControlName="placa" /></label>
     <label
      >Cor:
      <select formControlName="cor">
        <option *ngFor="let cor of cores" [value]="cor">{{ cor }}</option>
      </select>
    </label>
  </div>

  <div>
    <label
      >Ano Min:
      <select formControlName="anoMin">
        <option *ngFor="let ano of anos" [value]="ano">{{ ano }}</option>
      </select>
    </label>
    <label
      >Ano Max:
      <select formControlName="anoMax">
        <option *ngFor="let ano of anos" [value]="ano">{{ ano }}</option>
      </select>
    </label>
    <label
      >Pre√ßo:
      <select formControlName="preco">
        <option [value]="'10000-50000'">10mil a 50mil</option>
        <option [value]="'50000-90000'">50mil a 90mil</option>
        <option [value]="'90000'">+90mil</option>
      </select>
    </label>
  </div>

  <div>
    <label>Opcionais: <input formControlName="opcionais" /></label>
    <label
      >Fotos:
      <select formControlName="hasPhotos">
        <option [value]="true">Com Fotos</option>
        <option [value]="false">Sem Fotos</option>
      </select>
    </label>
  </div>

  <div class="form-group">
    <label><strong>Pacote ICarros</strong></label>
    <div *ngFor="let pacote of pacotes">
      <label>
        <input
          type="radio"
          formControlName="pacoteIcarros"
          [value]="pacote.value"
        />
        {{ pacote.label }}
      </label>
    </div>
  </div>

  <div class="form-group">
    <label><strong>Pacote Webmotors</strong></label>
    <div *ngFor="let pacote of pacotes">
      <label>
        <input
          type="radio"
          formControlName="pacoteWebmotors"
          [value]="pacote.value"
        />
        {{ pacote.label }}
      </label>
    </div>
  </div>

  <div>
    <label>P√°gina: <input type="number" formControlName="page" /></label>
    <label
      >Itens por p√°gina: <input type="number" formControlName="pageSize"
    /></label>
    <button type="submit">Buscar</button>
  </div>
</form>

<h2>Resultados:</h2>
<div *ngIf="carros.length > 0; else nenhumResultado">
  <ul>
    <li *ngFor="let carro of carros" [attr.data-id]="carro.id">
      <button (click)="deletarCarro(carro.id)" style="margin-left: 10px">
        üóëÔ∏è
      </button>
      <button (click)="editarCarro(carro.id)" style="margin-left: 10px">
        üìù
      </button>

      <img
        *ngIf="carro.fotos.length > 0"
        [src]="carro.fotos[0].url"
        alt="Foto do carro"
        width="100"
        height="60"
        style="margin-right: 10px; object-fit: cover; border-radius: 4px"
      />

      {{ carro.marca }} {{ carro.modelo }} - {{ carro.placa }} -
      {{ carro.ano }} - {{ carro.cor }} - R$ {{ carro.preco }} -
      {{ carro.listaOpcionais }} -
      {{ carro.quilometragem }}
    </li>
  </ul>
  <p>P√°gina: {{ pagina }}</p>
  <p>Tamanho da p√°gina: {{ tamanhoPagina }}</p>
  <p>Total de P√°ginas: {{ totalPaginas }}</p>
</div>

<ng-template #nenhumResultado>
  <p>Nenhum carro encontrado.</p>
</ng-template>
